<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<schema id="TabFaRecLedger" package="cn.sunline.ltts.busi.gl.fa.tables" longname="总账并账相关表结构" classgen="normal" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <table id="apb_merge_file" name="apb_merge_file" longname="并账文件定义表" virtual="false" abstract="false">
        <fields>
            <field id="sys_no" longname="系统编号" type="GlBaseType.U_SYSNO" ref="GlDict.A.sys_no" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="channel_id" longname="channel id" type="GlBaseType.U_CHANNEL" ref="GlDict.A.channel_id" primarykey="false" final="false" nullable="true" desc="渠道ID" identity="false" allowSubType="true"/>
            <field id="file_merge_type" longname="并账文件类型" type="GlEnumType.E_MERGETYPE" ref="GlDict.B.file_merge_type" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_name_part" longname="文件名称组成" type="GlBaseType.U_CHNAME" ref="GlDict.B.file_name_part" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="remote_dir_code" longname="remote directory code" type="GlBaseType.U_BYTE32" ref="GlDict.A.remote_dir_code" primarykey="false" final="false" nullable="true" desc="远程目录编码" identity="false" allowSubType="true"/>
            <field id="local_dir_code" longname="local directory code" type="GlBaseType.U_BYTE32" ref="GlDict.A.local_dir_code" primarykey="false" final="false" nullable="true" desc="本地目录编码" identity="false" allowSubType="true"/>
            <field id="file_server_ip" longname="文件服务器地址" type="GlBaseType.U_CHNAME" ref="GlDict.B.file_server_ip" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_server_userna" longname="文件服务器用户名" type="GlBaseType.U_MIDDESC" ref="GlDict.B.file_server_userna" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_server_passwd" longname="文件服务器用户密码" type="GlBaseType.U_MIDDESC" ref="GlDict.B.file_server_passwd" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_server_port" longname="文件服务器端口" type="GlBaseType.U_BYTE5" ref="GlDict.B.file_server_port" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_tranfe_protocol" longname="文件传输协议" type="GlBaseType.U_BYTE32" ref="GlDict.B.file_tranfe_protocol" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_is_merge" longname="是否需要并账" type="GlEnumType.E_YESORNO" ref="GlDict.B.file_is_merge" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="index" fields="sys_no channel_id" operate="selectAll"/>
            <index id="odb2" type="unique" fields="sys_no channel_id file_merge_type" operate="selectOne"/>
        </odbindexes>
        <indexes>
            <index id="apb_merge_file_idx1" type="index" fields="sys_no channel_id">
                <ddls/>
            </index>
            <index id="apb_merge_file_uk1" type="unique" fields="sys_no channel_id file_merge_type">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="fab_merge_detail" name="fab_merge_detail" longname="并账文件明细内容" virtual="false" abstract="false">
        <fields>
            <field id="sys_no" longname="系统编号" type="GlBaseType.U_SYSNO" ref="GlDict.A.sys_no" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="channel_id" longname="channel id" type="GlBaseType.U_CHANNEL" ref="GlDict.A.channel_id" primarykey="false" final="false" nullable="true" desc="渠道ID" identity="false" allowSubType="true"/>
            <field id="busi_batch_code" longname="batch business code" type="GlBaseType.U_BYTE32" ref="GlDict.A.busi_batch_code" primarykey="false" final="false" nullable="true" desc="文件批量号" identity="false" allowSubType="true"/>
            <field id="tran_seq" longname="交易流水" type="BaseType.U_SEQUNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="trxn_date" longname="交易日期" type="GlBaseType.U_DATE" ref="GlDict.A.trxn_date" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_date" longname="文件日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_handling_status" longname="file deal status" type="GlEnumType.E_FILEDEALSTATUS" ref="GlDict.A.file_handling_status" primarykey="false" final="false" nullable="true" desc="文件处理状态" identity="false" allowSubType="true"/>
            <field id="trxn_ccy" longname="交易币种" type="BaseType.U_CRCYCD" ref="GlDict.A.trxn_ccy" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="branch_id" longname="机构号" type="BaseType.U_BRCHNO" ref="GlDict.A.branch_id" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="trxn_branch" longname="交易机构" type="BaseType.U_BRCHNO" ref="GlDict.A.trxn_branch" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="gl_code" longname="科目号" type="GlBaseType.U_SUBJECTNO" ref="GlDict.A.gl_code" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="current_debit_amt" longname="本期借方发生额" type="BaseType.U_TRANAM" ref="GlDict.A.current_debit_amt" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="curr_debit_amntcd" longname="借方发生额借贷标志" type="GlEnumType.E_DEBITCREDIT" ref="GlDict.B.curr_debit_amntcd" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="current_credit_amt" longname="本期贷方发生额" type="BaseType.U_TRANAM" ref="GlDict.A.current_credit_amt" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="curr_credit_amntcd" longname="贷方发生额借贷标志" type="GlEnumType.E_DEBITCREDIT" ref="GlDict.B.curr_credit_amntcd" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="debit_count" longname="借方笔数" type="GlBaseType.U_LONG" ref="GlDict.A.debit_count" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="creit_count" longname="贷方笔数" type="GlBaseType.U_LONG" ref="GlDict.A.creit_count" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="merge_standy" longname="保留字段" type="GlBaseType.U_BYTE50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <indexes>
            <index id="fab_merge_detail_idx1" type="index" fields="busi_batch_code trxn_date">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="apb_merge_receive" name="apb_merge_receive" longname="并账文件接收登记簿" virtual="false" abstract="false">
        <fields>
            <field id="sys_no" longname="系统编号" type="GlBaseType.U_SYSNO" ref="GlDict.A.sys_no" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="channel_id" longname="channel id" type="GlBaseType.U_CHANNEL" ref="GlDict.A.channel_id" primarykey="false" final="false" nullable="true" desc="渠道ID" identity="false" allowSubType="true"/>
            <field id="trxn_date" longname="交易日期" type="GlBaseType.U_DATE" ref="GlDict.A.trxn_date" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_merge_type" longname="并账文件类型" type="GlEnumType.E_MERGETYPE" ref="GlDict.B.file_merge_type" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="busi_batch_code" longname="batch business code" type="GlBaseType.U_BYTE32" ref="GlDict.A.busi_batch_code" primarykey="false" final="false" nullable="true" desc="文件批量号" identity="false" allowSubType="true"/>
            <field id="file_server_name" longname="远程文件名" type="GlBaseType.U_MIDDESC" primarykey="false" final="false" nullable="true" desc="请求文件名" identity="false" allowSubType="true"/>
            <field id="file_server_path" longname="file server path" type="GlBaseType.U_SHORTDESC" ref="GlDict.A.file_server_path" primarykey="false" final="false" nullable="true" desc="文件服务器路径" identity="false" allowSubType="true"/>
            <field id="file_local_name" longname="本地文件路径" type="GlBaseType.U_MIDDESC" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="file_local_path" longname="file local path" type="GlBaseType.U_SHORTDESC" ref="GlDict.A.file_local_path" primarykey="false" final="false" nullable="true" desc="本地路径" identity="false" allowSubType="true"/>
            <field id="head_total_count" longname="header total count" type="GlBaseType.U_LONG" ref="GlDict.A.head_total_count" primarykey="false" final="false" nullable="true" desc="文件头记录数" identity="false" allowSubType="true"/>
            <field id="head_total_amt" longname="header total amount" type="BaseType.U_TRANAM" ref="GlDict.A.head_total_amt" primarykey="false" final="false" nullable="true" desc="文件头金额" identity="false" allowSubType="true"/>
            <field id="filebody_total_count" longname="filebody total count" type="GlBaseType.U_LONG" ref="GlDict.A.filebody_total_count" primarykey="false" final="false" nullable="true" desc="文件体记录数" identity="false" allowSubType="true"/>
            <field id="filebody_total_amt" longname="filebody total amount" type="BaseType.U_TRANAM" ref="GlDict.A.filebody_total_amt" primarykey="false" final="false" nullable="true" desc="文件体总金额" identity="false" allowSubType="true"/>
            <field id="success_total_count" longname="success total count" type="GlBaseType.U_LONG" ref="GlDict.A.success_total_count" primarykey="false" final="false" nullable="true" desc="成功总笔数" identity="false" allowSubType="true"/>
            <field id="success_total_amt" longname="success total amount" type="BaseType.U_TRANAM" ref="GlDict.A.success_total_amt" primarykey="false" final="false" nullable="true" desc="成功总金额" identity="false" allowSubType="true"/>
            <field id="file_handling_status" longname="file deal status" type="GlEnumType.E_FILEDEALSTATUS" ref="GlDict.A.file_handling_status" primarykey="false" final="false" nullable="true" desc="文件处理状态" identity="false" allowSubType="true"/>
            <field id="error_text" longname="error text" type="GlBaseType.U_LONGESTDESC" ref="GlDict.A.error_text" primarykey="false" final="false" nullable="true" desc="错误信息" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="sys_no channel_id trxn_date file_merge_type" operate="selectOne updateOne"/>
        </odbindexes>
        <indexes>
            <index id="apb_merge_receive_uk1" type="unique" fields="sys_no channel_id trxn_date file_merge_type">
                <ddls/>
            </index>
        </indexes>
    </table>
</schema>
