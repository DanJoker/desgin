<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="FaSettle" longname="总账核算SQL" package="cn.sunline.ltts.busi.fa.namedsql" xsi:noNamespaceSchemaLocation="ltts-model.xsd">
    <update method="update" id="updGatherBatchNo" longname="更新柜员流水表的清算批次号">
        <sql type="oracle"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_batch_no = #sett_batch_no# 
    	WHERE
    	    	a.corpno= #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.sett_status = '2' 
    	]]></sql>
        <sql type="db2"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_batch_no = #sett_batch_no# 
    	WHERE
    	    	a.corpno= #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.sett_status = '2' 
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_batch_no = #sett_batch_no# 
    	WHERE
    	    	a.corpno= #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.sett_status = '2' 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="sett_batch_no" ref="GlDict.A.sett_batch_no" jdbcType="VARCHAR" javaType="BaseType.U_SEQUNO" mode="in" longname="清算批次号" parameterType="condition"/>
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </update>
    <select cache="none" method="selectAll" type="sql" id="lstSettBatchNoList" longname="批量清算数据准备">
        <sql type="oracle"><![CDATA[
    	SELECT
    	    	a.trxn_ccy as ccy_code, a.acct_branch, nvl(sum(case when a.debit_credit = 'D' then a.accounting_amt else - a.accounting_amt end ), 0) as accounting_amt 
    	FROM
    	    	fab_teller_seq b 
    	JOIN
    	    	fab_accounting_voch a 
    	    	    	ON a.trxn_date = b.trxn_date AND a.trxn_seq = b.trxn_seq 
    	    	    	AND a.corpno = b.corpno 
    	WHERE
    	    	b.corpno = #org_id# and b.trxn_date = #trxn_date# 
    	    	and b.sett_batch_no = #sett_batch_no# AND a.on_bal_sheet_ind = 'Y' 
    	    	and b.sett_status='2' 
    	GROUP BY
    	    	a.trxn_ccy, a.acct_branch 
    	ORDER BY
    	    	a.trxn_ccy,
    	    	a.acct_branch 
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	SELECT
    	    	a.trxn_ccy as ccy_code, a.acct_branch, ifnull(sum(case when a.debit_credit = 'D' then a.accounting_amt else - a.accounting_amt end ), 0) as accounting_amt 
    	FROM
    	    	fab_teller_seq b 
    	JOIN
    	    	fab_accounting_voch a 
    	    	    	ON a.trxn_date = b.trxn_date AND a.trxn_seq = b.trxn_seq 
    	    	    	AND a.corpno = b.corpno 
    	WHERE
    	    	b.corpno = #org_id# and b.trxn_date = #trxn_date# 
    	    	and b.sett_batch_no = #sett_batch_no# AND a.on_bal_sheet_ind = 'Y' 
    	    	and b.sett_status='2' 
    	GROUP BY
    	    	a.trxn_ccy, a.acct_branch 
    	ORDER BY
    	    	a.trxn_ccy,
    	    	a.acct_branch 
    	]]></sql>
        <sql type="db2"><![CDATA[
    	SELECT
    	    	a.trxn_ccy as ccy_code, a.acct_branch, value(sum(case when a.debit_credit = 'D' then a.accounting_amt else - a.accounting_amt end ), 0) as accounting_amt 
    	FROM
    	    	fab_teller_seq b 
    	JOIN
    	    	fab_accounting_voch a 
    	    	    	ON a.trxn_date = b.trxn_date AND a.trxn_seq = b.trxn_seq 
    	    	    	AND a.corpno = b.corpno 
    	WHERE
    	    	b.corpno = #org_id# and b.trxn_date = #trxn_date# 
    	    	and b.sett_batch_no = #sett_batch_no# AND a.on_bal_sheet_ind = 'Y' 
    	    	and b.sett_status='2' 
    	GROUP BY
    	    	a.trxn_ccy, a.acct_branch 
    	ORDER BY
    	    	a.trxn_ccy,
    	    	a.acct_branch 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
            <parameter property="sett_batch_no" ref="GlDict.A.sett_batch_no" jdbcType="VARCHAR" javaType="BaseType.U_SEQUNO" mode="in" longname="清算批次号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="ComFaAccounting.SettlePrepData"/>
    </select>
    <update method="update" id="updBatchSettled" longname="批量清算状态变更">
        <sql type="oracle"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_status = '3' 
    	WHERE
    	    	a.corpno = #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.sett_batch_no = #sett_batch_no# AND a.sett_status = '2' 
    	]]></sql>
        <sql type="db2"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_status = '3' 
    	WHERE
    	    	a.corpno = #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.sett_batch_no = #sett_batch_no# AND a.sett_status = '2' 
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_status = '3' 
    	WHERE
    	    	a.corpno = #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.sett_batch_no = #sett_batch_no# AND a.sett_status = '2' 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="sett_batch_no" ref="GlDict.A.sett_batch_no" jdbcType="VARCHAR" javaType="BaseType.U_SEQUNO" mode="in" longname="清算批次号" parameterType="condition"/>
        </parameterMap>
    </update>
    <update method="update" id="updSettleBatchNo" longname="更新清算流水的清算批次号">
        <sql type="oracle"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_batch_no = #sett_batch_no# 
    	WHERE
    	    	a.corpno = #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.trxn_seq = #trxn_seq# 
    	]]></sql>
        <sql type="db2"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_batch_no = #sett_batch_no# 
    	WHERE
    	    	a.corpno = #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.trxn_seq = #trxn_seq# 
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	UPDATE
    	    	fab_teller_seq a 
    	SET
    	    	a.sett_batch_no = #sett_batch_no# 
    	WHERE
    	    	a.corpno = #org_id# AND a.trxn_date = #trxn_date# 
    	    	AND a.trxn_seq = #trxn_seq# 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="sett_batch_no" ref="GlDict.A.sett_batch_no" jdbcType="VARCHAR" javaType="BaseType.U_SEQUNO" mode="in" longname="清算批次号" parameterType="condition"/>
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
            <parameter property="trxn_seq" ref="GlDict.A.trxn_seq" jdbcType="VARCHAR" javaType="BaseType.U_SEQUNO" mode="in" longname="交易流水" parameterType="condition"/>
        </parameterMap>
    </update>
    <select cache="none" method="selectOne" type="sql" id="cntSettleCountByState" longname="按日期清算状态查询统计数据条数">
        <sql type="oracle"><![CDATA[select count(*) from fab_teller_seq where 
         corpno = #org_id# and trxn_date = #trxn_date#  and sett_status = #sett_status# ]]></sql>
        <sql type="db2"><![CDATA[select count(*) from fab_teller_seq where 
         corpno = #org_id# and trxn_date = #trxn_date#  and sett_status = #sett_status# ]]></sql>
        <sql type="mysql"><![CDATA[select count(*) from fab_teller_seq where 
         corpno = #org_id# and trxn_date = #trxn_date#  and sett_status = #sett_status# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
            <parameter property="sett_status" ref="GlDict.A.sett_status" jdbcType="VARCHAR" javaType="GlBusinessType.E_SETTSTATE" mode="in" longname="清算" parameterType="condition"/>
        </parameterMap>
        <resultMap class="java.lang.String"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="cntSettleCountByStateNonExists" longname="按日期和默认清算状态查询统计数据条数">
        <sql type="oracle"><![CDATA[select count(*) from fab_teller_seq where 
          corpno = #org_id# and trxn_date = #trxn_date#  and sett_status != #sett_status# and sett_status != '1']]></sql>
        <sql type="db2"><![CDATA[select count(*) from fab_teller_seq where 
          corpno = #org_id# and trxn_date = #trxn_date#  and sett_status != #sett_status# and sett_status != '1']]></sql>
        <sql type="mysql"><![CDATA[select count(*) from fab_teller_seq where 
          corpno = #org_id# and trxn_date = #trxn_date#  and sett_status != #sett_status# and sett_status != '1']]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
            <parameter property="sett_status" ref="GlDict.A.sett_status" jdbcType="VARCHAR" javaType="GlBusinessType.E_SETTSTATE" mode="in" longname="清算" parameterType="condition"/>
        </parameterMap>
        <resultMap class="java.lang.String"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="cntCountBranchSettle" longname="获取机构清算关系笔数">
        <sql type="oracle"><![CDATA[
    	select
    	    	count(*) 
    	from
    	    	fap_branch_settlement 
    	where
    	    	corpno=#org_id# 
    	]]></sql>
        <sql type="db2"><![CDATA[
    	select
    	    	count(*) 
    	from
    	    	fap_branch_settlement 
    	where
    	    	corpno=#org_id# 
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	count(*) 
    	from
    	    	fap_branch_settlement 
    	where
    	    	corpno=#org_id# 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="int"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="lstAllInitData" longname="获取分户账初始化数据">
        <sql><![CDATA[select * from gl_init_seq]]></sql>
        <sql type="oracle"><![CDATA[select * from GL_INIT_SEQ]]></sql>
        <parameterMap class="java.util.Map"/>
        <resultMap class="ComFaAcctInit.ComFaAcctInitOt"/>
    </select>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="lstFabLedgerCheck" longname="总账核算信息查询">
        <parameterMap class="java.util.Map">
            <parameter property="sys_no" ref="GlDict.A.sys_no" jdbcType="VARCHAR" javaType="GlBaseType.U_SYSNO" mode="in" longname="系统编号" parameterType="condition"/>
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
            <parameter property="acct_branch" ref="GlDict.A.acct_branch" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="账务机构" parameterType="condition"/>
            <parameter property="ccy_code" ref="GlDict.A.ccy_code" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="货币代码" parameterType="condition"/>
            <parameter property="accounting_subject" ref="GlDict.A.accounting_subject" jdbcType="VARCHAR" javaType="GlBaseType.U_ACCOUNTINGSUBJECT" mode="in" longname="会计主体" parameterType="condition"/>
            <parameter property="accounting_alias" ref="GlDict.A.accounting_alias" jdbcType="VARCHAR" javaType="GlBaseType.U_BYTE32" mode="in" longname="核算别名" parameterType="condition"/>
            <parameter property="bal_attributes" ref="GlDict.A.bal_attributes" jdbcType="VARCHAR" javaType="GlBaseType.U_BALPROPERTY" mode="in" longname="余额属性" parameterType="condition"/>
            <parameter property="gl_code" ref="GlDict.A.gl_code" jdbcType="VARCHAR" javaType="GlBaseType.U_SUBJECTNO" mode="in" longname="科目号" parameterType="condition"/>
            <parameter property="analysis_state" ref="GlDict.A.analysis_state" jdbcType="VARCHAR" javaType="GlBusinessType.E_ANALYSISSTATE" mode="in" longname="解析状态" parameterType="condition"/>
            <parameter property="ledger_check_result" ref="GlDict.A.ledger_check_result" jdbcType="VARCHAR" javaType="GlBusinessType.E_LEDGERCHECKRESULT" mode="in" longname="总分核对结果" parameterType="condition"/>
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="ComFaAccounting.FaLedgerCheckOut"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select  a.*,b.gl_bal_direction,b.gl_acct_bal ,b.ledger_check_result, b.ledger_bal_direction from fab_ledger_check_seq a join fab_ledger_check_result b on  a.gl_code = b.gl_code and a.sys_no=b.sys_no and a.trxn_date=b.trxn_date
and a.acct_branch=b.acct_branch and a.ccy_code=b.ccy_code and a.corpno=b.corpno]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[a.corpno = #org_id#]]></str>
                    <if test="sys_no!=null &amp;&amp;sys_no!=''" type="If">
                        <str type="Str"><![CDATA[a.sys_no=#sys_no#]]></str>
                    </if>
                    <if test="trxn_date!=null &amp;&amp; trxn_date!=''" type="If">
                        <str type="Str"><![CDATA[a.trxn_date=#trxn_date#]]></str>
                    </if>
                    <if test="acct_branch!=null &amp;&amp; acct_branch!=''" type="If">
                        <str type="Str"><![CDATA[a.acct_branch=#acct_branch#]]></str>
                    </if>
                    <if test="ccy_code!=null &amp;&amp; ccy_code !=''" type="If">
                        <str type="Str"><![CDATA[a.ccy_code =#ccy_code#]]></str>
                    </if>
                    <if test="accounting_subject!=null &amp;&amp; accounting_subject!=''" type="If">
                        <str type="Str"><![CDATA[a.accounting_subject=#accounting_subject#]]></str>
                    </if>
                    <if test="accounting_alias!=null &amp;&amp; accounting_alias!=''" type="If">
                        <str type="Str"><![CDATA[a.accounting_alias=#accounting_alias#]]></str>
                    </if>
                    <if test="bal_attributes!=null &amp;&amp; bal_attributes!=''" type="If">
                        <str type="Str"><![CDATA[a.bal_attributes=#bal_attributes#]]></str>
                    </if>
                    <if test="gl_code!=null &amp;&amp; gl_code!=''" type="If">
                        <str type="Str"><![CDATA[a.gl_code=#gl_code#]]></str>
                    </if>
                    <if test="analysis_state!=null" type="If">
                        <str type="Str"><![CDATA[a.analysis_state=#analysis_state#]]></str>
                    </if>
                    <if test="ledger_check_result!=null" type="If">
                        <str type="Str"><![CDATA[b.ledger_check_result=#ledger_check_result#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select  a.*,b.gl_bal_direction,b.gl_acct_bal ,b.ledger_check_result, b.ledger_bal_direction from fab_ledger_check_seq a join fab_ledger_check_result b on  a.gl_code = b.gl_code and a.sys_no=b.sys_no and a.trxn_date=b.trxn_date
and a.acct_branch=b.acct_branch and a.ccy_code=b.ccy_code and a.corpno=b.corpno]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[a.corpno = #org_id#]]></str>
                    <if test="sys_no!=null &amp;&amp;sys_no!=''" type="If">
                        <str type="Str"><![CDATA[a.sys_no=#sys_no#]]></str>
                    </if>
                    <if test="trxn_date!=null &amp;&amp; trxn_date!=''" type="If">
                        <str type="Str"><![CDATA[a.trxn_date=#trxn_date#]]></str>
                    </if>
                    <if test="acct_branch!=null &amp;&amp; acct_branch!=''" type="If">
                        <str type="Str"><![CDATA[a.acct_branch=#acct_branch#]]></str>
                    </if>
                    <if test="ccy_code!=null &amp;&amp; ccy_code !=''" type="If">
                        <str type="Str"><![CDATA[a.ccy_code =#ccy_code#]]></str>
                    </if>
                    <if test="accounting_subject!=null &amp;&amp; accounting_subject!=''" type="If">
                        <str type="Str"><![CDATA[a.accounting_subject=#accounting_subject#]]></str>
                    </if>
                    <if test="accounting_alias!=null &amp;&amp; accounting_alias!=''" type="If">
                        <str type="Str"><![CDATA[a.accounting_alias=#accounting_alias#]]></str>
                    </if>
                    <if test="bal_attributes!=null &amp;&amp; bal_attributes!=''" type="If">
                        <str type="Str"><![CDATA[a.bal_attributes=#bal_attributes#]]></str>
                    </if>
                    <if test="gl_code!=null &amp;&amp; gl_code!=''" type="If">
                        <str type="Str"><![CDATA[a.gl_code=#gl_code#]]></str>
                    </if>
                    <if test="analysis_state!=null" type="If">
                        <str type="Str"><![CDATA[a.analysis_state=#analysis_state#]]></str>
                    </if>
                    <if test="ledger_check_result!=null" type="If">
                        <str type="Str"><![CDATA[b.ledger_check_result=#ledger_check_result#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select  a.*,b.gl_bal_direction,b.gl_acct_bal ,b.ledger_check_result, b.ledger_bal_direction from fab_ledger_check_seq a join fab_ledger_check_result b on  a.gl_code = b.gl_code and a.sys_no=b.sys_no and a.trxn_date=b.trxn_date
and a.acct_branch=b.acct_branch and a.ccy_code=b.ccy_code and a.corpno=b.corpno]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[a.corpno = #org_id#]]></str>
                    <if test="sys_no!=null &amp;&amp;sys_no!=''" type="If">
                        <str type="Str"><![CDATA[a.sys_no=#sys_no#]]></str>
                    </if>
                    <if test="trxn_date!=null &amp;&amp; trxn_date!=''" type="If">
                        <str type="Str"><![CDATA[a.trxn_date=#trxn_date#]]></str>
                    </if>
                    <if test="acct_branch!=null &amp;&amp; acct_branch!=''" type="If">
                        <str type="Str"><![CDATA[a.acct_branch=#acct_branch#]]></str>
                    </if>
                    <if test="ccy_code!=null &amp;&amp; ccy_code !=''" type="If">
                        <str type="Str"><![CDATA[a.ccy_code =#ccy_code#]]></str>
                    </if>
                    <if test="accounting_subject!=null &amp;&amp; accounting_subject!=''" type="If">
                        <str type="Str"><![CDATA[a.accounting_subject=#accounting_subject#]]></str>
                    </if>
                    <if test="accounting_alias!=null &amp;&amp; accounting_alias!=''" type="If">
                        <str type="Str"><![CDATA[a.accounting_alias=#accounting_alias#]]></str>
                    </if>
                    <if test="bal_attributes!=null &amp;&amp; bal_attributes!=''" type="If">
                        <str type="Str"><![CDATA[a.bal_attributes=#bal_attributes#]]></str>
                    </if>
                    <if test="gl_code!=null &amp;&amp; gl_code!=''" type="If">
                        <str type="Str"><![CDATA[a.gl_code=#gl_code#]]></str>
                    </if>
                    <if test="analysis_state!=null" type="If">
                        <str type="Str"><![CDATA[a.analysis_state=#analysis_state#]]></str>
                    </if>
                    <if test="ledger_check_result!=null" type="If">
                        <str type="Str"><![CDATA[b.ledger_check_result=#ledger_check_result#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="lstAcctingVoch" longname="总账凭证查询">
        <parameterMap class="java.util.Map">
            <parameter property="trxn_date" ref="GlDict.A.trxn_date" jdbcType="VARCHAR" javaType="GlBaseType.U_DATE" mode="in" longname="交易日期" parameterType="condition"/>
            <parameter property="trxn_seq" ref="GlDict.A.trxn_seq" jdbcType="VARCHAR" javaType="BaseType.U_SEQUNO" mode="in" longname="交易流水" parameterType="condition"/>
            <parameter property="sys_no" ref="GlDict.A.sys_no" jdbcType="VARCHAR" javaType="GlBaseType.U_SYSNO" mode="in" longname="系统编号" parameterType="condition"/>
            <parameter property="acct_branch" ref="GlDict.A.acct_branch" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="账务机构" parameterType="condition"/>
            <parameter property="trxn_ccy" ref="GlDict.A.trxn_ccy" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="交易币种" parameterType="condition"/>
            <parameter property="gl_code" ref="GlDict.A.gl_code" jdbcType="VARCHAR" javaType="GlBaseType.U_SUBJECTNO" mode="in" longname="科目号" parameterType="condition"/>
            <parameter property="acct_seq" ref="GlDict.A.acct_seq" jdbcType="VARCHAR" javaType="GlBaseType.U_BYTE8" mode="in" longname="账户序号" parameterType="condition"/>
            <parameter property="acct_no" ref="GlDict.A.acct_no" jdbcType="VARCHAR" javaType="BaseType.U_ACCTNO" mode="in" longname="账号" parameterType="condition"/>
            <parameter property="debit_credit" ref="GlDict.A.debit_credit" jdbcType="VARCHAR" javaType="GlEnumType.E_DEBITCREDIT" mode="in" longname="记账方向" parameterType="condition"/>
            <parameter property="exchg_method" ref="GlDict.A.exchg_method" jdbcType="VARCHAR" javaType="GlBusinessType.E_EXCHANGEMODE" mode="in" longname="折算方式" parameterType="condition"/>
            <parameter property="on_bal_sheet_ind" ref="GlDict.A.on_bal_sheet_ind" jdbcType="VARCHAR" javaType="GlEnumType.E_YESORNO" mode="in" longname="表内标志" parameterType="condition"/>
            <parameter property="org_id" ref="GlDict.A.org_id" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="ComFaAcctingVoch.FaQueryAcctingVochOut"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from fab_accounting_voch]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[corpno = #org_id#]]></str>
                    <if test="trxn_date!=null &amp;&amp; trxn_date!=''" type="If">
                        <str type="Str"><![CDATA[trxn_date=#trxn_date#]]></str>
                    </if>
                    <if test="trxn_seq!=null &amp;&amp; trxn_seq!=''" type="If">
                        <str type="Str"><![CDATA[trxn_seq=#trxn_seq#]]></str>
                    </if>
                    <if test="sys_no!=null &amp;&amp; sys_no!=''" type="If">
                        <str type="Str"><![CDATA[sys_no=#sys_no#]]></str>
                    </if>
                    <if test="acct_branch!=null &amp;&amp; acct_branch!=''" type="If">
                        <str type="Str"><![CDATA[acct_branch=#acct_branch#]]></str>
                    </if>
                    <if test="trxn_ccy!=null &amp;&amp;trxn_ccy!=''" type="If">
                        <str type="Str"><![CDATA[trxn_ccy=#trxn_ccy#]]></str>
                    </if>
                    <if test="gl_code!=null &amp;&amp; gl_code!=''" type="If">
                        <str type="Str"><![CDATA[gl_code=#gl_code#]]></str>
                    </if>
                    <if test="acct_seq!=null &amp;&amp; acct_seq!=''" type="If">
                        <str type="Str"><![CDATA[acct_seq=#acct_seq#]]></str>
                    </if>
                    <if test="acct_no!=null &amp;&amp; acct_no!=''" type="If">
                        <str type="Str"><![CDATA[acct_no=#acct_no#]]></str>
                    </if>
                    <if test="debit_credit!=null" type="If">
                        <str type="Str"><![CDATA[debit_credit=#debit_credit#]]></str>
                    </if>
                    <if test="exchg_method!=null " type="If">
                        <str type="Str"><![CDATA[exchg_method=#exchg_method#]]></str>
                    </if>
                    <if test="on_bal_sheet_ind!=null " type="If">
                        <str type="Str"><![CDATA[on_bal_sheet_ind=#on_bal_sheet_ind#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by trxn_date, trxn_seq]]></str>
        </dynamicSql>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select * from fab_accounting_voch]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[corpno = #org_id#]]></str>
                    <if test="trxn_date!=null &amp;&amp; trxn_date!=''" type="If">
                        <str type="Str"><![CDATA[trxn_date=#trxn_date#]]></str>
                    </if>
                    <if test="trxn_seq!=null &amp;&amp; trxn_seq!=''" type="If">
                        <str type="Str"><![CDATA[trxn_seq=#trxn_seq#]]></str>
                    </if>
                    <if test="sys_no!=null &amp;&amp; sys_no!=''" type="If">
                        <str type="Str"><![CDATA[sys_no=#sys_no#]]></str>
                    </if>
                    <if test="acct_branch!=null &amp;&amp; acct_branch!=''" type="If">
                        <str type="Str"><![CDATA[acct_branch=#acct_branch#]]></str>
                    </if>
                    <if test="trxn_ccy!=null &amp;&amp;trxn_ccy!=''" type="If">
                        <str type="Str"><![CDATA[trxn_ccy=#trxn_ccy#]]></str>
                    </if>
                    <if test="gl_code!=null &amp;&amp; gl_code!=''" type="If">
                        <str type="Str"><![CDATA[gl_code=#gl_code#]]></str>
                    </if>
                    <if test="acct_seq!=null &amp;&amp; acct_seq!=''" type="If">
                        <str type="Str"><![CDATA[acct_seq=#acct_seq#]]></str>
                    </if>
                    <if test="acct_no!=null &amp;&amp; acct_no!=''" type="If">
                        <str type="Str"><![CDATA[acct_no=#acct_no#]]></str>
                    </if>
                    <if test="debit_credit!=null" type="If">
                        <str type="Str"><![CDATA[debit_credit=#debit_credit#]]></str>
                    </if>
                    <if test="exchg_method!=null " type="If">
                        <str type="Str"><![CDATA[exchg_method=#exchg_method#]]></str>
                    </if>
                    <if test="on_bal_sheet_ind!=null " type="If">
                        <str type="Str"><![CDATA[on_bal_sheet_ind=#on_bal_sheet_ind#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by trxn_date, trxn_seq]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from fab_accounting_voch]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[corpno = #org_id#]]></str>
                    <if test="trxn_date!=null &amp;&amp; trxn_date!=''" type="If">
                        <str type="Str"><![CDATA[trxn_date=#trxn_date#]]></str>
                    </if>
                    <if test="trxn_seq!=null &amp;&amp; trxn_seq!=''" type="If">
                        <str type="Str"><![CDATA[trxn_seq=#trxn_seq#]]></str>
                    </if>
                    <if test="sys_no!=null &amp;&amp; sys_no!=''" type="If">
                        <str type="Str"><![CDATA[sys_no=#sys_no#]]></str>
                    </if>
                    <if test="acct_branch!=null &amp;&amp; acct_branch!=''" type="If">
                        <str type="Str"><![CDATA[acct_branch=#acct_branch#]]></str>
                    </if>
                    <if test="trxn_ccy!=null &amp;&amp;trxn_ccy!=''" type="If">
                        <str type="Str"><![CDATA[trxn_ccy=#trxn_ccy#]]></str>
                    </if>
                    <if test="gl_code!=null &amp;&amp; gl_code!=''" type="If">
                        <str type="Str"><![CDATA[gl_code=#gl_code#]]></str>
                    </if>
                    <if test="acct_seq!=null &amp;&amp; acct_seq!=''" type="If">
                        <str type="Str"><![CDATA[acct_seq=#acct_seq#]]></str>
                    </if>
                    <if test="acct_no!=null &amp;&amp; acct_no!=''" type="If">
                        <str type="Str"><![CDATA[acct_no=#acct_no#]]></str>
                    </if>
                    <if test="debit_credit!=null" type="If">
                        <str type="Str"><![CDATA[debit_credit=#debit_credit#]]></str>
                    </if>
                    <if test="exchg_method!=null " type="If">
                        <str type="Str"><![CDATA[exchg_method=#exchg_method#]]></str>
                    </if>
                    <if test="on_bal_sheet_ind!=null " type="If">
                        <str type="Str"><![CDATA[on_bal_sheet_ind=#on_bal_sheet_ind#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by trxn_date, trxn_seq]]></str>
        </dynamicSql>
    </dynamicSelect>
</sqls>
