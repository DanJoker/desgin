<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls id="SysPublic" longname="公共表命名SQL" package="cn.sunline.ltts.busi.bsap.namedsql" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <select cache="none" method="selectAll" type="sql" id="listAppCrcy" longname="获取所有币种">
        <sql><![CDATA[select crcycd,crcyna,ccynum,cntycd,ccymin,iamnun,chgeun,basefg from app_crcy where corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select crcycd,crcyna,ccynum,cntycd,ccymin,iamnun,chgeun,basefg from app_crcy where corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select crcycd,crcyna,ccynum,cntycd,ccymin,iamnun,chgeun,basefg from app_crcy where corpno = #corpno#]]></sql>
        <sql type="db2"><![CDATA[select crcycd,crcyna,ccynum,cntycd,ccymin,iamnun,chgeun,basefg from app_crcy where corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="SysCommTools.ApCurrency"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="listApbDrss" longname="查询所有注册失败的数据">
        <sql><![CDATA[
    	select
    	    	acctno,drstyp,corpno,cdcnno 
    	from
    	    	apb_drss 
    	where
    	    	status = '0'
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	acctno,drstyp,corpno,cdcnno 
    	from
    	    	apb_drss 
    	where
    	    	status = '0'
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	acctno,drstyp,corpno,cdcnno 
    	from
    	    	apb_drss 
    	where
    	    	status = '0'
    	]]></sql>
        <sql type="db2"><![CDATA[
    	select
    	    	acctno,drstyp,corpno,cdcnno 
    	from
    	    	apb_drss 
    	where
    	    	status = '0'
    	]]></sql>
        <parameterMap class="java.util.Map"/>
        <resultMap class="SysPublicTable.ApbDrss"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selFailKnbEvnt" longname="查询所有冲正失败的数据">
        <sql><![CDATA[
    	select * from knb_evnt where trandt = #trandt# and callst in (7,9) and corpno = #corpno#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select * from knb_evnt where trandt = #trandt# and callst in (7,9) and corpno = #corpno#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select * from knb_evnt where trandt = #trandt# and callst in (7,9) and corpno = #corpno#
    	]]></sql>
        <sql type="db2"><![CDATA[
    	select * from knb_evnt where trandt = #trandt# and callst in (7,9) and corpno = #corpno#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="SysBusiTable.KnbEvnt"/>
    </select>
    
    <select cache="none" method="selectAll" type="sql" id="selFailKnsRedu" longname="查询所有冲正失败的数据">
        <sql><![CDATA[
    	select * from kns_redu where trandt = #trandt# and corpno = #corpno# and txnsts in('U','N')
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select * from kns_redu where trandt = #trandt# and corpno = #corpno# and txnsts in('U','N')
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select * from kns_redu where trandt = #trandt# and corpno = #corpno# and txnsts in('U','N')
    	]]></sql>
        <sql type="db2"><![CDATA[
    	select * from kns_redu where trandt = #trandt# and corpno = #corpno# and txnsts in('U','N')
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="SysBusiTable.KnsRedu"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="getInternalCurrency" longname="获取本币币种基本信息">
        <sql type="oracle"><![CDATA[SELECT crcycd,crcyna,crcyen,crcysg,crcydg,crcycg,usabtg,cysgdg,crcytp,crcywl
                    FROM knp_crcy
                   WHERE corpno=#corpno#
                     AND basefg = #basefg#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="basefg" jdbcType="VARCHAR" javaType="BaseEnumType.E_YES___" mode="in" longname="是否本币" parameterType="condition"/>
        </parameterMap>
        <resultMap class="SysPublicTable.AppCrcy"/>
    </select>
</sqls>
