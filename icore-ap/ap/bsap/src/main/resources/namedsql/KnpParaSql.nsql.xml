<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls id="KnpParaSql" longname="公共业务参数sql" package="cn.sunline.ltts.busi.sys.namedsql" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <description><![CDATA[公共业务参数sql]]></description>
    <select cache="none" method="selectAll" type="sql" id="selKnpParaByCd" longname="根据编号查公共业务参数表">
        <sql type="oracle" desc="根据编号查公共业务参数表"><![CDATA[
        select parmcd, pmkey1, pmkey2, pmkey3, pmval1, pmval2, pmval3, pmval4, pmval5 
        from knp_para where parmcd=#parmcd# and corpno=#corpno# order by pmval2]]></sql>
        <sql type="mysql" desc="根据编号查公共业务参数表"><![CDATA[
        select parmcd, pmkey1, pmkey2, pmkey3, pmval1, pmval2, pmval3, pmval4, pmval5 
        from knp_para where parmcd=#parmcd# and corpno=#corpno# order by pmval2]]></sql>
        <parameterMap class="java.util.Map">
        	<parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人编号" parameterType="condition"/>
            <parameter property="parmcd" jdbcType="VARCHAR" javaType="string" mode="in" longname="parmcd" parameterType="condition"/>
        </parameterMap>
        <resultMap class="KnpParaTable.KnpPara"/>
    </select>
    <update method="update" id="updKnpParaByParmcdAndPmkey1" longname="更新参数表">
        <sql type="oracle"><![CDATA[
        UPDATE Knp_Para
        SET Pmval4 = #Pmval4#, Pmval5 = #Pmval5#
       	WHERE Parmcd = #Parmcd#
        AND Pmkey1 = #Pmkey1# 
        and corpno=#corpno#]]></sql>
        <sql type="mysql"><![CDATA[
        UPDATE Knp_Para
        SET Pmval4 = #Pmval4#, Pmval5 = #Pmval5#
       	WHERE Parmcd = #Parmcd#
        AND Pmkey1 = #Pmkey1# 
        and corpno=#corpno#]]></sql>
        <parameterMap class="java.util.Map">
        	<parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人编号" parameterType="condition"/>
            <parameter property="Parmcd" jdbcType="VARCHAR" javaType="string" mode="in" longname="参数1" parameterType="condition"/>
            <parameter property="Pmkey1" jdbcType="VARCHAR" javaType="string" mode="in" longname="参数2" parameterType="condition"/>
            <parameter property="Pmval4" jdbcType="VARCHAR" javaType="string" mode="in" longname="参数3" parameterType="condition"/>
            <parameter property="Pmval5" jdbcType="VARCHAR" javaType="string" mode="in" longname="参数4" parameterType="condition"/>
        </parameterMap>
    </update>
    <update method="update" id="updKnpParaByParmcdAndAllkeys" longname="更新参数表">
        <sql type="oracle"><![CDATA[
        update knp_para
        set pmval1 = #pmval1#,pmval2 = #pmval2#,pmval3 = #pmval3#,pmval4 = #pmval4#,pmval5 = #pmval5#
       	where parmcd = #parmcd#
        and pmkey1 = #pmkey1#
	  	and pmkey2 = #pmkey2#
	  	and pmkey3 = #pmkey3# 
	  	and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[
        update knp_para
        set pmval1 = #pmval1#,pmval2 = #pmval2#,pmval3 = #pmval3#,pmval4 = #pmval4#,pmval5 = #pmval5#
       	where parmcd = #parmcd#
        and pmkey1 = #pmkey1#
	  	and pmkey2 = #pmkey2#
	  	and pmkey3 = #pmkey3# 
	  	and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
        	<parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人编号" parameterType="condition"/>
            <parameter property="parmcd" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数代码" parameterType="condition"/>
            <parameter property="pmkey1" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数键值1" parameterType="condition"/>
            <parameter property="pmkey2" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数键值2" parameterType="condition"/>
            <parameter property="pmkey3" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数键值3" parameterType="condition"/>
            <parameter property="pmval1" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数值1" parameterType="condition"/>
            <parameter property="pmval2" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数值2" parameterType="condition"/>
            <parameter property="pmval3" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数值3" parameterType="condition"/>
            <parameter property="pmval4" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数值4" parameterType="condition"/>
            <parameter property="pmval5" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数值5" parameterType="condition"/>
        </parameterMap>
    </update>
    <dynamicSelect cache="none" method="selectAll" type="sql" id="selKnpPara" longname="动态查询公共业务参数表">
        <parameterMap class="java.util.Map">
        	<parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人编号" parameterType="condition"/>
            <parameter property="parmcd" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数代码" parameterType="condition"/>
            <parameter property="pmkey1" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数键值1" parameterType="condition"/>
            <parameter property="pmkey2" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数键值2" parameterType="condition"/>
            <parameter property="pmkey3" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="参数键值3" parameterType="condition"/>
        </parameterMap>
        <resultMap class="KnpParaTable.KnpPara"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from knp_para]]></str>
            <where type="Where">
                <and type="And">
                    <if test="parmcd != null &amp;&amp; parmcd != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[parmcd = #parmcd#]]></str>
                    </if>
                    <if test="pmkey1 != null &amp;&amp; pmkey != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[pmkey1 = #pmkey1#]]></str>
                    </if>
                    <if test="pmkey2 != null &amp;&amp; pmkey2 != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[pmkey2 = #pmkey2#]]></str>
                    </if>
                    <if test="pmkey3 != null &amp;&amp; pmkey3 != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[pmkey3 = #pmkey3#]]></str>
                    </if>
                    <str type="Str"><![CDATA[corpno = #corpno#]]></str>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from knp_para]]></str>
            <where type="Where">
                <and type="And">
                    <if test="parmcd != null &amp;&amp; parmcd != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[parmcd = #parmcd#]]></str>
                    </if>
                    <if test="pmkey1 != null &amp;&amp; pmkey != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[pmkey1 = #pmkey1#]]></str>
                    </if>
                    <if test="pmkey2 != null &amp;&amp; pmkey2 != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[pmkey2 = #pmkey2#]]></str>
                    </if>
                    <if test="pmkey3 != null &amp;&amp; pmkey3 != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[pmkey3 = #pmkey3#]]></str>
                    </if>
                    <str type="Str"><![CDATA[corpno = #corpno#]]></str>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
</sqls>
