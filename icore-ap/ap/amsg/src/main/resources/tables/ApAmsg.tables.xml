<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="ApAmsg" package="cn.sunline.ltts.busi.amsg.tables" longname="异步消息处理表" classgen="normal" xsi:noNamespaceSchemaLocation="ltts-model.xsd">
    <table id="ApsMessUndo" name="aps_mess_undo" longname="未处理消息表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="trandt" longname="交易日期" type="BaseType.U_DATE08" ref="BaseDict.Comm.trandt" primarykey="false" final="false" nullable="false" desc="用户表分区" identity="false" allowSubType="true"/>
            <field id="busisq" longname="业务流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.busisq" primarykey="false" final="false" nullable="false" desc="发起系统的流水号(唯一标识整个笔业务交易)" identity="false" allowSubType="true"/>
            <field id="transq" longname="交易流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.transq" primarykey="false" final="false" nullable="false" desc="当前系统的流水号" identity="false" allowSubType="true"/>
            <field id="messeq" longname="消息序号" type="BaseType.U_TTUSCT" primarykey="false" final="false" nullable="false" desc="用于标识主题消息（加工处理后可能产生多条消息）" identity="false" allowSubType="true"/>
            <field id="sosyco" longname="源系统代码" type="BaseType.U_CHAR20" ref="ApDict.Aplt.sosyco" primarykey="false" final="false" nullable="false" desc="指消息发送者的系统代码" identity="false" allowSubType="true"/>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" desc="指的是消息的主题" identity="false" allowSubType="true"/>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="false" nullable="false" desc="MQ通讯流水号" identity="false" allowSubType="true"/>
            <field id="groupid" longname="分组ID" type="BaseType.U_INTEGE" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sdcnid" longname="源DCN号" type="BaseType.U_CHAR20" ref="ApDict.Aplt.sdcnid" primarykey="false" final="false" nullable="false" desc="指的消息发送者的DCN编号" identity="false" allowSubType="true"/>
            <field id="sovmid" longname="源VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.sovmid" primarykey="false" final="false" nullable="true" desc="指的消息发送者的VMID" identity="false" allowSubType="true"/>
            <field id="sourip" longname="源主机" type="BaseType.U_IPADDR" ref="ApDict.Aplt.sourip" primarykey="false" final="false" nullable="true" desc="指的消息发送者的机器IP" identity="false" allowSubType="true"/>
            <field id="devmid" longname="收到VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.devmid" primarykey="false" final="false" nullable="true" desc="指的消息接收者的VMID" identity="false" allowSubType="true"/>
            <field id="destip" longname="收到主机" type="BaseType.U_IPADDR" ref="ApDict.Aplt.destip" primarykey="false" final="false" nullable="true" desc="指的消息接收者的机器IP" identity="false" allowSubType="true"/>
            <field id="destdt" longname="收到时间" type="BaseType.U_CHAR20" ref="ApDict.Aplt.destdt" primarykey="false" final="false" nullable="true" desc="指的接收到消息的时间" identity="false" allowSubType="true"/>
            <field id="prvmid" longname="处理VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.prvmid" primarykey="false" final="false" nullable="true" desc="指的处理消息的VMID" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb2" type="unique" fields="messid" operate="deleteOne selectOne updateOne"/>
            <index id="odb3" type="index" fields="busisq trandt topcid" operate="selectAll selectPage"/>
        </odbindexes>
        <indexes>
            <index id="aps_mess_undo_uk2" type="unique" fields="messid">
                <ddls/>
            </index>
            <index id="aps_mess_undo_idx3" type="index" fields="busisq trandt corpno topcid">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsMessSucc" name="aps_mess_succ" longname="成功消息表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="trandt" longname="交易日期" type="BaseType.U_DATE08" ref="BaseDict.Comm.trandt" primarykey="false" final="false" nullable="false" desc="用户表分区" identity="false" allowSubType="true"/>
            <field id="busisq" longname="业务流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.busisq" primarykey="false" final="false" nullable="false" desc="发起系统的流水号(唯一标识整个笔业务交易)" identity="false" allowSubType="true"/>
            <field id="transq" longname="交易流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.transq" primarykey="false" final="false" nullable="false" desc="当前系统的流水号" identity="false" allowSubType="true"/>
            <field id="messeq" longname="消息序号" type="BaseType.U_TTUSCT" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="sosyco" longname="源系统代码" type="BaseType.U_CHAR20" ref="ApDict.Aplt.sosyco" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="sdcnid" longname="源DCN号" type="BaseType.U_CHAR20" ref="ApDict.Aplt.sdcnid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sovmid" longname="源VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.sovmid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sourip" longname="源主机" type="BaseType.U_IPADDR" ref="ApDict.Aplt.sourip" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="tragti" longname="重试次数" type="BaseType.U_RETRTM" ref="ApDict.Aplt.tragti" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="devmid" longname="收到VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.devmid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="destip" longname="收到主机" type="BaseType.U_IPADDR" ref="ApDict.Aplt.destip" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="destdt" longname="收到时间" type="BaseType.U_CHAR20" ref="ApDict.Aplt.destdt" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="prvmid" longname="处理VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.prvmid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb2" type="unique" fields="messid" operate="deleteOne selectOne updateOne"/>
            <index id="odb3" type="index" fields="busisq trandt topcid" operate="selectAll selectPage"/>
        </odbindexes>
        <indexes>
            <index id="aps_mess_succ_uk2" type="unique" fields="messid">
                <ddls/>
            </index>
            <index id="aps_mess_succ_idx3" type="index" fields="busisq trandt corpno topcid">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsMessFail" name="aps_mess_fail" longname="异常消息表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="trandt" longname="交易日期" type="BaseType.U_DATE08" ref="BaseDict.Comm.trandt" primarykey="false" final="false" nullable="false" desc="用户表分区" identity="false" allowSubType="true"/>
            <field id="busisq" longname="业务流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.busisq" primarykey="false" final="false" nullable="false" desc="发起系统的流水号(唯一标识整个笔业务交易)" identity="false" allowSubType="true"/>
            <field id="transq" longname="交易流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.transq" primarykey="false" final="false" nullable="false" desc="当前系统的流水号" identity="false" allowSubType="true"/>
            <field id="messeq" longname="消息序号" type="BaseType.U_TTUSCT" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="sosyco" longname="源系统代码" type="BaseType.U_CHAR20" ref="ApDict.Aplt.sosyco" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="sdcnid" longname="源DCN号" type="BaseType.U_CHAR20" ref="ApDict.Aplt.sdcnid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sovmid" longname="源VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.sovmid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sourip" longname="源主机" type="BaseType.U_IPADDR" ref="ApDict.Aplt.sourip" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="tragti" longname="重试次数" type="BaseType.U_RETRTM" ref="ApDict.Aplt.tragti" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="excode" longname="异常错误码" type="BaseType.U_CHAR32" ref="ApDict.Aplt.excode" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="estack" longname="异常堆栈" type="BaseType.U_CHAR1000" ref="ApDict.Aplt.estack" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="devmid" longname="收到VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.devmid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="destip" longname="收到主机" type="BaseType.U_IPADDR" ref="ApDict.Aplt.destip" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="destdt" longname="收到时间" type="BaseType.U_CHAR20" ref="ApDict.Aplt.destdt" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="prvmid" longname="处理VMID" type="BaseType.U_VMIDXX" ref="ApDict.Aplt.prvmid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb2" type="unique" fields="messid" operate="deleteOne selectOne updateOne"/>
            <index id="odb3" type="index" fields="busisq trandt topcid" operate="selectAll selectPage"/>
        </odbindexes>
        <indexes>
            <index id="aps_mess_fail_uk2" type="unique" fields="messid">
                <ddls/>
            </index>
            <index id="aps_mess_fail_idx3" type="index" fields="busisq trandt corpno topcid">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsMessData" name="aps_mess_data" longname="消息内容表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="trandt" longname="交易日期" type="BaseType.U_DATE08" ref="BaseDict.Comm.trandt" primarykey="false" final="false" nullable="false" desc="用户表分区" identity="false" allowSubType="true"/>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="true" nullable="false" identity="false" allowSubType="true"/>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="metype" longname="消息类型" type="BaseEnumType.E_METYPE" ref="ApDict.Aplt.metype" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="md5chk" longname="MD5校验" type="BaseType.U_CHAR200" ref="ApDict.Aplt.md5chk" primarykey="false" final="false" nullable="true" desc="防止串改消息内容（MD5码值）" identity="false" allowSubType="true"/>
            <field id="premod" longname="压缩方式" type="BaseType.U_CHAR20" ref="ApDict.Aplt.premod" primarykey="false" final="false" nullable="true" desc="0-不压缩，1-ZIP（缩小消息大小）" identity="false" allowSubType="true"/>
            <field id="mesobj" longname="消息对象类" type="BaseType.U_CHAR100" ref="ApDict.Aplt.mesobj" primarykey="false" final="false" nullable="false" desc="消息对象的类型" identity="false" allowSubType="true"/>
            <field id="afpres" longname="消息压缩内容" type="BaseType.U_CHAR4000" ref="ApDict.Aplt.afpres" primarykey="false" final="false" nullable="true" desc="消息进行压缩后的内容" identity="false" allowSubType="true"/>
            <field id="medata" longname="消息明文内容" type="BaseType.U_CHAR4000" ref="ApDict.Aplt.medata" primarykey="false" final="false" nullable="false" desc="消息经过MD5解密后的内容" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="messid trandt" operate="selectOne deleteOne"/>
            <index id="odb2" type="index" fields="topcid trandt" operate="selectAll"/>
        </odbindexes>
        <indexes>
            <index id="aps_mess_data_uk1" type="unique" fields="messid trandt">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="AppTopiDefi" name="app_topi_defi" longname="消息主题定义表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="true" final="false" nullable="false" desc="主题唯一标识" identity="false" allowSubType="true"/>
            <field id="topicn" longname="主题名称" type="BaseType.U_CHAR40" ref="ApDict.Aplt.topicn" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="systcd" longname="系统编号" type="BaseType.U_SYSTCD" primarykey="true" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="metype" longname="消息类型" type="BaseEnumType.E_METYPE" ref="ApDict.Aplt.metype" primarykey="false" final="false" nullable="false" desc="0-短信通知，1-金融事件，2-支付通知，3-参数变更" identity="false" allowSubType="true"/>
            <field id="msgmod" longname="消息模式" type="BaseEnumType.E_MSGMOD" ref="BaseDict.Comm.msgmod" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="conscy" longname="消息事务一致性粒度" type="BaseEnumType.E_CONSCY" ref="BaseDict.Comm.conscy" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="msgact" longname="消息处理方式" type="BaseEnumType.E_MSGACT" ref="ApDict.Aplt.msgact" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="ismein" longname="是否短信接口" type="BaseEnumType.E_YES___" ref="ApDict.Aplt.ismein" primarykey="false" final="false" nullable="false" desc="1-是,0-否" identity="false" allowSubType="true"/>
            <field id="svcimp" longname="跨节点消息处理" type="BaseType.U_CHAR200" primarykey="false" final="false" nullable="true" desc="表示处理消息主题的的处理码" identity="false" allowSubType="true"/>
            <field id="meteid" longname="短信模板ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.meteid" primarykey="false" final="false" nullable="true" desc="多个时，逗号分隔" identity="false" allowSubType="true"/>
            <field id="istodb" longname="源消息是否入库" type="BaseEnumType.E_YES___" ref="ApDict.Aplt.istodb" primarykey="false" final="false" nullable="false" desc="1-是,0-否" identity="false" allowSubType="true"/>
            <field id="istrya" longname="是否重试" type="BaseEnumType.E_YES___" ref="ApDict.Aplt.istrya" primarykey="false" final="false" nullable="true" desc="1-是,0-否" identity="false" allowSubType="true"/>
            <field id="tragti" longname="重试次数" type="BaseType.U_RETRTM" ref="ApDict.Aplt.tragti" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="tragst" longname="重试策略" type="BaseType.U_CHAR20" ref="ApDict.Aplt.tragst" primarykey="false" final="false" nullable="true" desc="定时任务的策略" identity="false" allowSubType="true"/>
            <field id="svcopt" longname="消息发送服务数据范围" type="BaseEnumType.E_SVCOPT" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="svceid" longname="消息发送服务ID" type="BaseType.U_CHAR200" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="svcebd" longname="消息发送服务绑定" type="BaseType.U_CHAR200" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="topcid systcd" operate="selectOne"/>
        </odbindexes>
        <indexes>
            <index id="app_topi_defi_uk1" type="unique" fields="topcid systcd corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="AppTopiSubs" name="app_topi_subs" longname="消息主题订阅表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="systcd" longname="系统编号" type="BaseType.U_SYSTCD" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="subseq" longname="订阅序号" type="BaseType.U_TTUSCT" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="scopno" longname="订阅法人" type="BaseType.U_CORPNO" primarykey="false" final="false" nullable="false" desc="%表示全法人,*表示本法人" identity="false" allowSubType="true"/>
            <field id="sdcnno" longname="订阅DCN" type="BaseType.U_DCNNO" primarykey="false" final="false" nullable="false" desc="%表示全DCN,集中式使用000" identity="false" allowSubType="true"/>
            <field id="ssyscd" longname="订阅系统ID" type="BaseType.U_SYSTCD" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="topcid systcd subseq" operate="selectOne"/>
            <index id="odb2" type="index" fields="topcid systcd" operate="selectAll"/>
        </odbindexes>
        <indexes>
            <index id="app_topi_subs_uk1" type="unique" fields="topcid systcd subseq corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="AppTempDefi" name="app_temp_defi" longname="短信模板定义表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="meteid" longname="短信模板ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.meteid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="metemp" longname="短信模板" type="BaseType.U_CHAR400" ref="ApDict.Aplt.metemp" primarykey="false" final="false" nullable="false" desc="模板内容" identity="false" allowSubType="true"/>
            <field id="smstyp" longname="短信类型" type="BaseEnumType.E_SMSTYP" ref="ApDict.Aplt.smstyp" primarykey="false" final="false" nullable="false" desc="1-是,0-否" identity="false" allowSubType="true"/>
            <field id="remark" longname="短息模版说明" type="BaseType.U_LONGDS" ref="BaseDict.Comm.remark" primarykey="false" final="false" nullable="false" desc="短息模版说明字段变量说明" identity="false" allowSubType="true"/>
            <field id="temptype" longname="是否万能模版" type="BaseEnumType.E_YES___" primarykey="false" final="false" default="0" nullable="true" desc="0--固定模版1--万能模版" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="meteid" operate="selectOne"/>
        </odbindexes>
        <indexes>
            <index id="app_temp_defi_uk1" type="unique" fields="meteid corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsTopiPush" name="aps_topi_push" longname="订阅类消息发布信息表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="affaid" longname="事务ID" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="ssyscd" longname="发布系统" type="BaseType.U_SYSTCD" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sendcn" longname="发布DCN" type="BaseType.U_DCNNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="constm" longname="发布时间" type="BaseType.U_DATE22" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="status" longname="状态" type="ApBaseEnumType.E_SYNCST" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="affaid" operate="selectOne deleteOne updateOne selectOneWithLock"/>
        </odbindexes>
        <indexes>
            <index id="aps_topi_push_uk1" type="unique" fields="affaid">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsTopiDetl" name="aps_topi_detl" longname="订阅类消息订阅者明细表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="affaid" longname="事务ID" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="detlsq" longname="明细序号" type="BaseType.U_INTEGE" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="iscons" longname="是否消费方" type="BaseEnumType.E_YES___" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="tacorp" longname="目标法人" type="BaseType.U_CORPNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="tardcn" longname="目标DCN" type="BaseType.U_DCNNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="tsyscd" longname="目标系统" type="BaseType.U_SYSTCD" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="constm" longname="消费时间" type="BaseType.U_DATE22" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="status" longname="状态" type="ApBaseEnumType.E_SYNCST" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="affaid detlsq" operate="selectOne deleteOne updateOne selectOneWithLock"/>
            <index id="odb2" type="index" fields="affaid tacorp tardcn tsyscd" operate="selectAll"/>
        </odbindexes>
        <indexes>
            <index id="aps_topi_detl_uk1" type="unique" fields="affaid detlsq">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsTopiMess" name="aps_topi_mess" longname="订阅类消息内容明细表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="affaid" longname="事务ID" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="pumesq" longname="序号" type="BaseType.U_INTEGE" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="true" nullable="false" identity="false" allowSubType="true"/>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" desc="主题唯一标识" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="index" fields="affaid" operate="selectAll"/>
            <index id="odb2" type="unique" fields="messid" operate="selectOne deleteOne updateOne"/>
            <index id="odb3" type="unique" fields="affaid pumesq" operate="selectOne"/>
        </odbindexes>
        <indexes>
            <index id="aps_topi_mess_uk1" type="unique" fields="affaid pumesq">
                <ddls/>
            </index>
            <index id="aps_topi_mess_uk2" type="unique" fields="messid corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsShorUndo" name="aps_shor_undo" longname="未处理短信表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="groupid" longname="分组ID" type="BaseType.U_INTEGE" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="nacode" longname="国家代码" type="BaseType.U_CHAR02" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="messst" longname="短信状态" type="BaseEnumType.E_VALID_" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="mobile" longname="手机号码" type="BaseType.U_CHAR20" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="templid" longname="短信模版ID" type="BaseType.U_CHAR20" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="messty" longname="是否实时发送" type="BaseEnumType.E_YES___" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="para" longname="消息参数" type="BaseType.U_CHAR1000" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="messid" operate="deleteOne updateOne"/>
        </odbindexes>
        <indexes>
            <index id="aps_shor_undo_uk1" type="unique" fields="groupid messid corpno">
                <ddls/>
            </index>
            <index id="aps_shor_undo_idx1" type="index" fields="groupid messid messst messty corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsShorSucc" name="aps_shor_succ" longname="成功短信表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="nacode" longname="国家代码" type="BaseType.U_CHAR02" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="mobile" longname="手机号码" type="BaseType.U_CHAR20" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="templid" longname="短信模版ID" type="BaseType.U_CHAR20" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="messty" longname="是否实时发送" type="BaseEnumType.E_YES___" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="para" longname="消息参数" type="BaseType.U_CHAR1000" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="messid mobile" operate="selectOne"/>
        </odbindexes>
        <indexes>
            <index id="aps_shor_succ_uk1" type="unique" fields="messid corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsShorFail" name="aps_shor_fail" longname="失败短信表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" ref="ApDict.Aplt.messid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="nacode" longname="国家代码" type="BaseType.U_CHAR02" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="mobile" longname="手机号码" type="BaseType.U_CHAR20" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="templid" longname="短信模版ID" type="BaseType.U_CHAR20" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="messty" longname="是否实时发送" type="BaseEnumType.E_YES___" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="para" longname="消息参数" type="BaseType.U_CHAR1000" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="messid mobile" operate="selectOne"/>
        </odbindexes>
        <indexes>
            <index id="aps_shor_fail_uk1" type="unique" fields="messid corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="AppMessToMQ" name="app_mess_tomq" longname="MQ消息定义表" tableType="ORDINARY" virtual="false" abstract="false">
        <fields>
            <field id="prcscd" longname="处理交易码" type="BaseType.U_PRCSCD" ref="ApDict.Aplt.prcscd" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="scenno" longname="业务场景编号" type="BaseType.U_SCENNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="scenna" longname="业务场景名称" type="BaseType.U_SCENNA" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" desc="消息主题的唯一标识" identity="false" allowSubType="true"/>
            <field id="mepara" longname="消息参数" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="isrepl" longname="是否替换内容" type="BaseEnumType.E_YES___" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="meteid" longname="短信模板ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.meteid" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="metemp" longname="短信模板" type="BaseType.U_CHAR400" ref="ApDict.Aplt.metemp" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="oblgt1" longname="预留字段1" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="oblgt2" longname="预留字段2" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="oblgt3" longname="预留字段3" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="prcscd scenno" operate="selectOne deleteOne updateOne selectOneWithLock"/>
        </odbindexes>
        <indexes>
            <index id="app_mess_tomq_uk1" type="unique" fields="prcscd scenno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="ApsMessHdMQ" name="aps_mess_hdmq" longname="MQ消息处理表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="transq" longname="交易流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.transq" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="messeq" longname="消息序号" type="BaseType.U_EBDCNM" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="topcid" longname="消息主题ID" type="BaseType.U_CHAR20" ref="ApDict.Aplt.topcid" primarykey="false" final="false" nullable="false" desc="消息主题的唯一标识" identity="false" allowSubType="true"/>
            <field id="prcscd" longname="处理交易码" type="BaseType.U_PRCSCD" ref="ApDict.Aplt.prcscd" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="messid" longname="消息ID" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="taskid" longname="批量交易批次号" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="systid" longname="系统编号" type="BaseType.U_SYSCCD" ref="ApDict.Aplt.systid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="messtp" longname="消息内容" type="BaseType.U_CHAR1000" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="trandt" longname="交易日期" type="BaseType.U_DATE08" ref="BaseDict.Comm.trandt" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="busisq" longname="业务流水" type="BaseType.U_SEQUNO" ref="BaseDict.Comm.busisq" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sdcnid" longname="源DCN号" type="BaseType.U_CHAR20" ref="ApDict.Aplt.sdcnid" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="handst" longname="执行状态" type="SPEnumType.E_PROCSTATUS" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="tragti" longname="重试次数" type="BaseType.U_RETRTM" ref="ApDict.Aplt.tragti" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="remark" longname="备注信息" type="BaseType.U_LONGDS" ref="BaseDict.Comm.remark" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb1" type="unique" fields="transq messeq" operate="selectOne deleteOne updateOne selectOneWithLock"/>
            <index id="odb2" type="unique" fields="transq taskid" operate="selectOne deleteOne updateOne selectOneWithLock"/>
        </odbindexes>
        <indexes>
            <index id="aps_mess_hdmq_uk1" type="unique" fields="transq messeq corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
</schema>
